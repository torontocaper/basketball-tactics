[gd_scene format=3 uid="uid://4j8yrjvm2vlc"]

[ext_resource type="Script" uid="uid://ew2xg82cd0b2" path="res://sandbox/3d_test.gd" id="1_ghsjx"]
[ext_resource type="PackedScene" uid="uid://qrqfm5sgh0gd" path="res://sandbox/player_3d.tscn" id="3_ghsjx"]
[ext_resource type="Shader" uid="uid://cpyljydfnj4ug" path="res://sandbox/asphalt.tres" id="3_qxmrs"]
[ext_resource type="Texture2D" uid="uid://gosw77tlyk0s" path="res://icon.svg" id="4_ghsjx"]
[ext_resource type="PackedScene" uid="uid://dbtsdrruobqof" path="res://sandbox/3d/ball_3d.tscn" id="5_ddvuc"]
[ext_resource type="Texture2D" uid="uid://dapwoxr04ivox" path="res://assets/textures/court/3d/red brick/red_brick_diff_4k.png" id="5_ht6ya"]
[ext_resource type="Texture2D" uid="uid://bkdw26n1jjiwd" path="res://assets/textures/court/3d/red brick/red_brick_nor_gl_4k.png" id="6_ohh5t"]
[ext_resource type="PackedScene" uid="uid://d04p5dc2jaujf" path="res://sandbox/3d/hoop_3d.tscn" id="6_ruxy6"]
[ext_resource type="Texture2D" uid="uid://c3i5iutfrxwd5" path="res://assets/textures/court/3d/red brick/red_brick_arm_4k.png" id="6_sn5qn"]
[ext_resource type="Script" uid="uid://by7p25jwtgmcb" path="res://sandbox/projector.gd" id="10_sn5qn"]

[sub_resource type="Gradient" id="Gradient_qxmrs"]
interpolation_mode = 1
offsets = PackedFloat32Array(0, 0.9392523)
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ghsjx"]
frequency = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_ddvuc"]
width = 2048
height = 1024
noise = SubResource("FastNoiseLite_ghsjx")
color_ramp = SubResource("Gradient_qxmrs")

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_qxmrs"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.16916671, 0, 0.29, 1)
sky_curve = 0.028419785
sky_cover = SubResource("NoiseTexture2D_ddvuc")
ground_bottom_color = Color(0.37, 0.37, 0.37, 1)
ground_horizon_color = Color(0.9, 0.9, 0.531, 1)
ground_curve = 0.0100000305
sun_angle_max = 2.52
sun_curve = 1.5834122

[sub_resource type="Sky" id="Sky_ghsjx"]
sky_material = SubResource("ProceduralSkyMaterial_qxmrs")

[sub_resource type="Environment" id="Environment_ddvuc"]
background_mode = 2
sky = SubResource("Sky_ghsjx")

[sub_resource type="NavigationMesh" id="NavigationMesh_qxmrs"]
vertices = PackedVector3Array(-7, 1, -7, -7, 1, 7, 7, 1, 7, 7, 1, -7)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_source_geometry_mode = 1
geometry_source_group_name = &"navigation"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ghsjx"]
render_priority = 0
shader = ExtResource("3_qxmrs")

[sub_resource type="BoxMesh" id="BoxMesh_ddvuc"]
material = SubResource("ShaderMaterial_ghsjx")
size = Vector3(15, 1, 15)

[sub_resource type="BoxShape3D" id="BoxShape3D_qxmrs"]
size = Vector3(15, 1, 15)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sn5qn"]
albedo_texture = ExtResource("5_ht6ya")
metallic = 1.0
metallic_texture = ExtResource("6_sn5qn")
metallic_texture_channel = 2
roughness_texture = ExtResource("6_sn5qn")
roughness_texture_channel = 1
normal_enabled = true
normal_texture = ExtResource("6_ohh5t")
ao_enabled = true
ao_texture = ExtResource("6_sn5qn")
uv1_scale = Vector3(0.24, 0.24, 0.24)
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_ruxy6"]
material = SubResource("StandardMaterial3D_sn5qn")
size = Vector3(15, 4, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_ruxy6"]
size = Vector3(15, 4, 1)

[node name="3DTest" type="Node3D" unique_id=944697696]
script = ExtResource("1_ghsjx")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1740805499]
environment = SubResource("Environment_ddvuc")

[node name="Camera3D" type="Camera3D" parent="." unique_id=1283979636]
transform = Transform3D(1, 0, 0, 0, 0.8660254, 0.50000006, 0, -0.5, 0.8660253, 0, 8, 7)

[node name="Players" type="Node3D" parent="." unique_id=1064856904]

[node name="Kirt" parent="Players" unique_id=74101545 node_paths=PackedStringArray("target_hoop") groups=["players"] instance=ExtResource("3_ghsjx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
player_name = "Kirt"
target_hoop = NodePath("../../Court/Hoop3D")
shot_angle = 50.0

[node name="Court" type="Node3D" parent="." unique_id=1730611067]

[node name="CourtFloor" type="StaticBody3D" parent="Court" unique_id=176516575]
collision_layer = 2
collision_mask = 5

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Court/CourtFloor" unique_id=1312972967]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
navigation_mesh = SubResource("NavigationMesh_qxmrs")

[node name="AsphaltCourtMesh" type="MeshInstance3D" parent="Court/CourtFloor" unique_id=2120255127 groups=["navigation"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
mesh = SubResource("BoxMesh_ddvuc")
skeleton = NodePath("../../..")

[node name="Decal" type="Decal" parent="Court/CourtFloor/AsphaltCourtMesh" unique_id=1676700976]
visible = false
texture_albedo = ExtResource("4_ghsjx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/CourtFloor" unique_id=390082587]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_qxmrs")

[node name="Walls" type="Node3D" parent="Court" unique_id=1538033207]

[node name="Wall" type="StaticBody3D" parent="Court/Walls" unique_id=362417465]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -8, 2, -3.496911e-07)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall" unique_id=2005814988]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall" unique_id=761858784]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall7" type="StaticBody3D" parent="Court/Walls" unique_id=908332256]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -8, 6, -3.496911e-07)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall7" unique_id=493880724]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall7" unique_id=1528966095]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall2" type="StaticBody3D" parent="Court/Walls" unique_id=954567016]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 8)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall2" unique_id=611732008]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall2" unique_id=2124667223]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall3" type="StaticBody3D" parent="Court/Walls" unique_id=1562019497]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -8)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall3" unique_id=1763500632]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall3" unique_id=1161835106]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall6" type="StaticBody3D" parent="Court/Walls" unique_id=1478352424]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6, -8)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall6" unique_id=1864677506]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall6" unique_id=891142271]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall4" type="StaticBody3D" parent="Court/Walls" unique_id=981441732]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 8, 2, 0)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall4" unique_id=1961611068]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall4" unique_id=1147294662]
shape = SubResource("BoxShape3D_ruxy6")

[node name="Wall5" type="StaticBody3D" parent="Court/Walls" unique_id=371614411]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 8, 6, 0)
collision_layer = 2
collision_mask = 5

[node name="MeshInstance3D" type="MeshInstance3D" parent="Court/Walls/Wall5" unique_id=604375923]
mesh = SubResource("BoxMesh_ruxy6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Court/Walls/Wall5" unique_id=1725206940]
shape = SubResource("BoxShape3D_ruxy6")

[node name="OmniLights" type="Node3D" parent="Court" unique_id=429076332]

[node name="OmniLight3D" type="OmniLight3D" parent="Court/OmniLights" unique_id=516782224]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 5, 5)
light_color = Color(1, 1, 0.87058824, 1)
light_energy = 8.0
omni_range = 10.0

[node name="OmniLight3D2" type="OmniLight3D" parent="Court/OmniLights" unique_id=1445468412]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 5, -6)
light_color = Color(1, 1, 0.87058824, 1)
light_energy = 8.0
omni_range = 10.0

[node name="OmniLight3D3" type="OmniLight3D" parent="Court/OmniLights" unique_id=1794633855]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -5, 5, 5)
light_color = Color(1, 1, 0.87058824, 1)
light_energy = 8.0
omni_range = 10.0

[node name="OmniLight3D4" type="OmniLight3D" parent="Court/OmniLights" unique_id=2119667587]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 5, 5, -6)
light_color = Color(1, 1, 0.87058824, 1)
light_energy = 8.0
omni_range = 10.0

[node name="Hoop3D" parent="Court" unique_id=715531421 instance=ExtResource("6_ruxy6")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, 3.0468822, -6)

[node name="Ball3D" parent="Court" unique_id=1804621623 instance=ExtResource("5_ddvuc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2238794, 1.7481232, -1.921671)

[node name="Projector" type="SpotLight3D" parent="Court" unique_id=163690196]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 8.947774, 0)
light_projector = ExtResource("4_ghsjx")
shadow_enabled = true
spot_range = 10.0
spot_attenuation = -1.73
spot_angle = 15.0
script = ExtResource("10_sn5qn")

[connection signal="input_event" from="Court/CourtFloor" to="." method="_on_court_floor_input_event"]
